<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Request PIN - IHS</title>
    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.0/font/bootstrap-icons.css">
    <link href="../css/custom.css" rel="stylesheet">
</head>
<body class="bg-light">
    <header class="py-3 mb-4 border-bottom bg-white">
        <div class="container d-flex flex-wrap justify-content-center">
            <a href="/" class="d-flex align-items-center mb-3 mb-md-0 me-md-auto text-dark text-decoration-none">
                <div class="bg-primary text-white rounded-circle d-flex align-items-center justify-content-center me-2" style="width: 50px; height: 50px;">
                    <span class="fs-4 fw-bold">IHS</span>
                </div>
                <span class="fs-4 ms-3">INTERNATIONAL HIGH SCHOOL</span>
            </a>
            <ul class="nav nav-pills">
                <li class="nav-item"><a href="../index.html" class="nav-link">Home</a></li>
                <li class="nav-item"><a href="check-result.html" class="nav-link">Check Result</a></li>
                <li class="nav-item"><a href="request-pin.html" class="nav-link active">Request PIN</a></li>
            </ul>
        </div>
    </header>

    <main class="container py-5">
        <div class="row justify-content-center">
            <div class="col-lg-8">
                <div class="card shadow-sm border-0">
                    <div class="card-header bg-success text-white text-center py-4">
                        <h2 class="mb-0 fw-bold"><i class="bi bi-credit-card me-2"></i>Request Result PIN</h2>
                    </div>
                    <div class="card-body p-4">
                        <div class="alert alert-info">
                            <strong>Instructions:</strong> 
                            <ol class="mb-0">
                                <li>Make payment of ₦1,000 to the school account</li>
                                <li>Upload your payment receipt below</li>
                                <li>Wait for admin approval (usually within 24 hours)</li>
                                <li>Your PIN will be generated and sent to you</li>
                            </ol>
                        </div>
                        
                        <div class="card mb-4">
                            <div class="card-header bg-light fw-bold">
                                Payment Details
                            </div>
                            <div class="card-body">
                                <div class="mb-3">
                                    <small class="text-muted d-block mb-1">Bank Name</small>
                                    <strong>First Bank of Nigeria</strong>
                                </div>
                                <div class="mb-3">
                                    <small class="text-muted d-block mb-1">Account Name</small>
                                    <strong>International High School</strong>
                                </div>
                                <div class="mb-3">
                                    <small class="text-muted d-block mb-1">Account Number</small>
                                    <strong>2034567890</strong>
                                </div>
                                <div>
                                    <small class="text-muted d-block mb-1">Amount</small>
                                    <h4 class="text-success mb-0">₦1,000</h4>
                                </div>
                            </div>
                        </div>
                        
                        <form id="pinRequestForm">
                            <div class="row g-3">
                                <div class="col-md-6">
                                    <div>
                                        <label class="form-label fw-semibold">Full Name</label>
                                        <input type="text" class="form-control" id="studentName" placeholder="Enter your full name" required>
                                    </div>
                                </div>
                                <div class="col-md-6">
                                    <div>
                                        <label class="form-label fw-semibold">Admission Number</label>
                                        <input type="text" class="form-control" id="admissionNo" placeholder="Enter your admission number" required>
                                    </div>
                                </div>
                                <div class="col-md-6">
                                    <div>
                                        <label class="form-label fw-semibold">Class</label>
                                        <select class="form-select" id="studentClass" required>
                                            <option value="">Select Class</option>
                                            <option>SS1</option>
                                            <option>SS2</option>
                                            <option>SS3</option>
                                            <option>JSS1</option>
                                            <option>JSS2</option>
                                            <option>JSS3</option>
                                        </select>
                                    </div>
                                </div>
                                <div class="col-md-6">
                                    <div>
                                        <label class="form-label fw-semibold">Phone Number</label>
                                        <input type="tel" class="form-control" id="phoneNumber" placeholder="Enter your phone number" required>
                                    </div>
                                </div>
                                <div class="col-12">
                                    <div>
                                        <label class="form-label fw-semibold">Upload Payment Receipt</label>
                                        <input class="form-control" type="file" id="receiptUpload" accept="image/*,application/pdf" required>
                                        <div class="form-text">Max file size: 5MB. Supported formats: JPG, PNG, PDF</div>
                                    </div>
                                </div>
                                <div class="col-12">
                                    <div class="form-check">
                                        <input class="form-check-input" type="checkbox" id="termsCheck" required>
                                        <label class="form-check-label" for="termsCheck">
                                            I confirm that I have made payment to the school account and the receipt is genuine.
                                        </label>
                                    </div>
                                </div>
                            </div>

                            <div class="d-grid gap-2 mt-4">
                                <button type="submit" class="btn btn-success btn-lg py-3">
                                    <i class="bi bi-upload me-2"></i>Submit Payment Receipt
                                </button>
                                <button type="button" class="btn btn-outline-secondary py-3" onclick="window.location.href='check-result.html'">
                                    <i class="bi bi-arrow-left me-2"></i>Back to Check Result
                                </button>
                            </div>
                        </form>
                    </div>
                </div>
            </div>
        </div>
    </main>

    <footer class="py-4 mt-5 bg-dark text-white">
        <div class="container text-center">
            <p class="mb-0">295, Sapele/Warri Road, Sapele, Delta State</p>
            <p class="mb-0">&copy; 2026 International High School. All rights reserved.</p>
        </div>
    </footer>

    <!-- Bootstrap JS Bundle -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <!-- Custom JS -->
    <script src="../js/script.js"></script>
    <script>
        document.getElementById('pinRequestForm').addEventListener('submit', function(e) {
            e.preventDefault();
            
            const fileInput = document.getElementById('receiptUpload');
            const file = fileInput.files[0];
            
            if (!file) {
                alert('Please upload your payment receipt');
                return;
            }
            
            if (file.size > 5000000) { // 5MB limit
                alert('File too large! Maximum size is 5MB.');
                return;
            }
            
            // Store the request in localStorage (simulating database)
            const request = {
                id: Date.now(),
                name: document.getElementById('studentName').value,
                admissionNo: document.getElementById('admissionNo').value,
                class: document.getElementById('studentClass').value,
                phone: document.getElementById('phoneNumber').value,
                date: new Date().toISOString(),
                status: 'pending',
                pin: null
            };
            
            // Get existing requests or initialize empty array
            const requests = JSON.parse(localStorage.getItem('pinRequests') || '[]');
            requests.push(request);
            localStorage.setItem('pinRequests', JSON.stringify(requests));
            
            // Show success message
            alert('Your PIN request has been submitted successfully! An admin will review your payment receipt and generate your PIN within 24 hours. You will be notified via SMS when your PIN is ready.');
            
            // Reset form
            this.reset();
        });
    </script>
</body>
</html>